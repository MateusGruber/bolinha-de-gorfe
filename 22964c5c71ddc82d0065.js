import"../assets/styles.css";import*as THREE from"three";import{OrbitControls}from"three/examples/jsm/controls/OrbitControls.js";import*as dat from"dat.gui";import{Interaction}from"three.interaction";const textureLoader=new THREE.TextureLoader,golfBallTexture=textureLoader.load("/textures/golfball.jpg"),canvas=document.querySelector("canvas#WebGL"),scene=new THREE.Scene,geometry=new THREE.SphereBufferGeometry(.5,30,30),material=new THREE.MeshStandardMaterial({color:15856113,emissive:14474460,metalness:.2,roughness:.5,normalMap:golfBallTexture}),debounce=(e,t,i=!1)=>{let n=null;return function(){const o=i&&!n,r=()=>e.apply(this,arguments);clearTimeout(n),n=setTimeout(r,t),o&&r()}},triggeredBolinhaDeGorfe=()=>{document.body.classList.add("triggered"),document.querySelector("audio").play(),pointLight.color.setHex(16711680),pointLight.intensity=1,frontalPointLight.color.setHex(16711680),frontalPointLight.intensity=1,material.emissive.setHex(0),setTimeout((()=>{document.body.classList.remove("triggered"),pointLight.color.setHex(16777215),frontalPointLight.color.setHex(16777215),material.emissive.setHex(14474460),frontalPointLight.intensity=.07,pointLight.intensity=.07}),1500)},sphere=new THREE.Mesh(geometry,material);scene.add(sphere),sphere.cursor="pointer",sphere.on("click",debounce(triggeredBolinhaDeGorfe,100,!0));const pointLight=new THREE.PointLight(16777215,.07);pointLight.position.x=2.5,pointLight.position.y=6,pointLight.position.z=4,scene.add(pointLight);const frontalPointLight=new THREE.PointLight(16777215,.07);frontalPointLight.position.x=0,frontalPointLight.position.y=0,frontalPointLight.position.z=1,scene.add(frontalPointLight);const sizes={width:window.innerWidth,height:window.innerHeight};window.addEventListener("resize",(()=>{sizes.width=window.innerWidth,sizes.height=window.innerHeight,camera.aspect=sizes.width/sizes.height,camera.updateProjectionMatrix(),renderer.setSize(sizes.width,sizes.height),renderer.setPixelRatio(Math.min(window.devicePixelRatio,2))}));const camera=new THREE.PerspectiveCamera(100,sizes.width/sizes.height,.1,100);camera.position.x=0,camera.position.y=0,camera.position.z=2,scene.add(camera);const renderer=new THREE.WebGLRenderer({canvas,alpha:!0});renderer.setSize(sizes.width,sizes.height),renderer.setPixelRatio(Math.min(window.devicePixelRatio,2));const interaction=new Interaction(renderer,scene,camera),clock=new THREE.Clock,tick=()=>{const e=clock.getElapsedTime();sphere.rotation.y=.5*e,renderer.render(scene,camera),window.requestAnimationFrame(tick)};tick();